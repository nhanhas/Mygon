<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title></title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/locale/pt.js"></script>

  <script type="text/javascript" src="libs/date-picker/js/bootstrap-datetimepicker.min.js"></script>
  <link rel="stylesheet" href="libs/date-picker/css/bootstrap-datetimepicker.min.css" />

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-30964267-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-30964267-1');
  </script>

  <script>
    var thecurrent=0;
    var locales_PT = {
            "STEP_0_TITLE" : "Quantas pessoas serão?",
            "STEP_1_TITLE" : "Para quando?",
            "STEP_2_TITLE" : "A que horas?",
            "STEP_3_TITLE" : "Para concluir regista-te gratuitamente na Mygon.",
            "STEP_3_SUBTITLE" : "Já tens uma conta Mygon? <span class='text-green newlogin' style='cursor:pointer'>Clica aqui</a>",
            "STEP_3_FORM_NAME" : "Nome",
            "STEP_3_FORM_EMAIL" : "E-mail",
            "STEP_3_FORM_PASSWORD" : "Escolhe uma password",
            "STEP_4_TITLE" : "Para caso o comerciante ou a nossa linha de apoio precise de te ligar por favor indica o teu nome e nº de telemóvel.",
            "STEP_4_FORM_PHONE" : "Telemóvel",
            "STEP_4_FORM_COMMENTS" : "Notas para o comerciante...",
            "STEP_4_FORM_THERMS" : "Li e aceito a <a class=\"text-green\">Política de privacidade</a> e aceito receber novidades, comunicações e promoções da MyGon",
            "STEP_NEXT_BTN" : "SEGUINTE",
            "STEP_RESERVE_BTN" : "RESERVAR"
        };

    var locales_EN = {
            "STEP_0_TITLE" : "How many?",
            "STEP_1_TITLE" : "When?",
            "STEP_2_TITLE" : "What time?",
            "STEP_3_TITLE" : "To complete the booking, register for free in Mygon.",
            "STEP_3_SUBTITLE" : "Already have a Mygon account? <span class='text-green newlogin' style='cursor:pointer'>Click here</span>",
            "STEP_3_FORM_NAME" : "Name",
            "STEP_3_FORM_EMAIL" : "E-mail",
            "STEP_3_FORM_PASSWORD" : "Choose a password",
            "STEP_4_TITLE" : "In case the merchant or our support line needs to call you please indicate your name and mobile phone number.",
            "STEP_4_FORM_PHONE" : "Mobile",
            "STEP_4_FORM_COMMENTS" : "Notes for merchant...",
            "STEP_4_FORM_THERMS" : "I ́ve read the <a class=\"text-green\">Privacy Policy</a> settings and i accept to receive news, comunications and promotions from MyGon",
            "STEP_NEXT_BTN" : "NEXT",
            "STEP_RESERVE_BTN" : "BOOK NOW"
        };

    var locales_ES = {
            "STEP_0_TITLE" : "¿Cuántas personas serán?",
            "STEP_1_TITLE" : "¿Cuando?",
            "STEP_2_TITLE" : "¿Qué hora?",
            "STEP_3_TITLE" : "Para concluir registre-te gratuitamente en Mygon.",
            "STEP_3_SUBTITLE" : "¿Ya tienes una cuenta Mygon? <span class='text-green newlogin' style='cursor:pointer'>Haz clic aquí.</span>",
            "STEP_3_FORM_NAME" : "Nombre",
            "STEP_3_FORM_EMAIL" : "E-mail",
            "STEP_3_FORM_PASSWORD" : "Seleccione la contraseña",
            "STEP_4_TITLE" : "Para caso el comerciante o nuestra línea de apoyo necesite de te llamar por favor, indica tu nombre y número móvil.",
            "STEP_4_FORM_PHONE" : "Mobile",
            "STEP_4_FORM_COMMENTS" : "Notas para el merchant ...",
            "STEP_4_FORM_THERMS" : "He leído el <a class=\"text-green\">Privacy Policy</a> Configuraciones y acepto recibir noticias, comunicaciones y promociones de MyGon.",
            "STEP_NEXT_BTN" : "SIGUIENTE",
            "STEP_RESERVE_BTN" : "RESERVAR AHORA"
        };


    var locales = undefined

    var StepsVO = [];
	jQuery(document).ready(function() {
		//    ga('send', 'event', "reserve_widget", "start_flow", 1);
		gtag('event', "reserve_widget", {  'event_category': "step_started",'event_label': "step",  'value': 1});

		//Get Language params
        var urlParams = new URLSearchParams(window.location.search);
        var lang = urlParams.get('lang');
        //#0.2 - get locales
        switch (lang) {
            case 'pt':
                locales = locales_PT;
                break;
            case 'es':
                locales = locales_ES;       
                break;
            case 'en':
                locales = locales_EN;
                break;
        
            default:
                locales = locales_EN;
                break;
        }
        
        //#0 - Get Cookie for ID campaign
        var campaignIdRequested = urlParams.get('id');
        var cookieCampaign = getCookie('campaignId');
        if(campaignIdRequested != null && campaignIdRequested != 'undefined' && cookieCampaign !== campaignIdRequested){
            //#If is different campaigns, reset cookie form
            var formValue = '';
            setCookie('form', formValue);
            setCookie('campaignId', campaignIdRequested);    
        }
        


        //#1 - Get reservation config from cookie
        cookieValue = getCookie('values');
        if(cookieValue){
            cookieValue = JSON.parse(cookieValue);
            console.log(cookieValue);
            //#0.1 - Set up Steps with received
            StepsVO = cookieValue;

        }else{
            //This else is a dummy data
            StepsVO = [
            {
                id : 0,
                active : true,
                limit : 20 //Limit of clients for this reservation
            },
            {
                id : 1,
                active : true,
                disabledDates : [new Date('2018-10-20'), new Date('2018-10-27')],
                daysOfWeekDisabled : [1, 2]
            },
            {
                id : 2,
                active : true,
                hours : ['13:30', '14:00', '19:10','20:30','21:00'] //Hours available to book
            },
            {
                id : 3,
                active : true
            },
            {
                id : 4,
                active : true
            }

        ];

        }

        //#3 - Fulfiil form with cookie values 
        try {

            //#3.0 - Disable Dates
            if(StepsVO[1].disabledDates && StepsVO[1].disabledDates.length > 0){
                $('#datetimepicker').disabledDates = StepsVO[1].disabledDates;

            }

            //#3.1 - if Step 3 is loggedin
            if(StepsVO[3].loggedin){
                StepsVO[3].active = false;
            }

            $('#name_logged').val(StepsVO[3].name);
            $('#name_logged').css('display','block');
                  //Step 3
            $('#email').val(StepsVO[3].email);       //Step 3

            //#3.1.1 - If user is loggedIn, then name will appear in step 4        
            $('#name_logged').val(StepsVO[3].name); //Step 4 using step 3 value  

            //#3.1.2 - Hide therms if logged
            if(StepsVO[3].loggedin){
                acceptTherms();
                $('.therms').css('display', 'none');
            }

            $('#phone').val(StepsVO[4].phoneNumber); //Step 4
            $('#notes').val(StepsVO[4].comment);     //Step 4
        } catch (error) {
            console.log('Could not load Steps from cookie');
        }

        //#1 - Set Visible/Invisible Breadcrumbs and step views (based on json)
        drawForm();

        //#2 - Fullfill dynamic form views (Step 0 - How many?; Step 2 - What time?)
        drawDynamicForms();



        //#4 - Setup dateTime picker
        $('#datetimepicker').datetimepicker({
            inline: true,
            locale: 'ru',
            format: 'D',
            minDate : StepsVO[1].startDate,
              maxDate : StepsVO[1].endDate,
            disabledDates : StepsVO[1].disabledDates,
            daysOfWeekDisabled : StepsVO[1].daysOfWeekDisabled,
            useCurrent:false
        });


        //On dive datetimepicker init()
        $(document).on('click','.newlogin',function(){
            if(thecurrent > 0){
                setCookie('tobecurrent', thecurrent);
                parent.newLogin();
            }
        });

        
      

		//#5 - Translate
        $('#step-0-title').text( getLocale('STEP_0_TITLE') );
        $('#step-1-title').text( getLocale('STEP_1_TITLE') );
        $('#step-2-title').text( getLocale('STEP_2_TITLE') );
        $('#step-3-title').text( getLocale('STEP_3_TITLE') );
        $('#new-account').html( getLocale('STEP_3_SUBTITLE') );

        $('#name').attr('placeholder', ( getLocale('STEP_3_FORM_NAME') ));
        $('#email').attr('placeholder', ( getLocale('STEP_3_FORM_EMAIL') ));
        $('#password').attr('placeholder', ( getLocale('STEP_3_FORM_PASSWORD') ));

        $('#step-4-title').text( getLocale('STEP_4_TITLE') );
        $('#name_logged').attr('placeholder',( getLocale('STEP_3_FORM_NAME') ));
        $('#phone').attr('placeholder',( getLocale('STEP_4_FORM_PHONE') ));
        $('#notes').attr('placeholder',( getLocale('STEP_4_FORM_COMMENTS') ));

        $('#therms-span').html( getLocale('STEP_4_FORM_THERMS') );


        $('#step-3-next').text( getLocale('STEP_NEXT_BTN') );
        $('#step-4-reserve').text( getLocale('STEP_RESERVE_BTN') );

		//#6 - Check for cookie form 
        cookieFormValue = getCookie('form');
        if(cookieFormValue != ""){
            cookieFormValue = JSON.parse(cookieFormValue);

            //#6.1 - set form with last cookie value
            setFormValue(cookieFormValue);

        }


        var stepCookieValue = getCookie("tobecurrent");
        if(stepCookieValue != ""){
            navigateToStep(parseInt(stepCookieValue), true);
            setCookie("tobecurrent","");
         
        }

	});

	//#LOCALE
    function getLocale(key){
        return locales[key];
    }

    //#A - Draw Available Breadcrumbs and Form views
    function drawForm(){

        //#1 - Set active breadcrumbs as visible
        for(var i=0; i < StepsVO.length; i++){
            if(StepsVO[i].active){
                $('#step-item-' + StepsVO[i].id).css('display', 'block');
            }
        }
        //#2 - Set first as visible (Check what is the next id)
        for(var i=0; i < StepsVO.length; i++){           
            if(StepsVO[i].active){
                //#2.2 - Activate first available Step
                $('#step-item-' + StepsVO[i].id).addClass('step-visited');
                $('#step-' + StepsVO[i].id).css('display', 'flex');
                break;
            }
        }
    }

    //#B - Draw content of dynamic forms
    function drawDynamicForms(){

        //#1 - get step 0 content
        GET_TEMPLATE_step_0();

        //#2 - get step 2 content
        GET_TEMPLATE_step_2();

    }

    //#C - Next step function
    function nextStep(currentId){

        var nextStepId = -1;

        //#1 - Check what is the next id
        for(var i=0; i < StepsVO.length; i++){
            if(currentId < StepsVO[i].id && StepsVO[i].id && StepsVO[i].active){
                nextStepId = StepsVO[i].id;
                break;
            }
        }

        //#2.1 - Deactivate current Step
        $('#step-' + currentId).css('display', 'none');
        //#2.2 - Activate next Step
        $('#step-item-' + nextStepId).addClass('step-visited');
        $('#step-' + nextStepId).css('display', 'flex');

        thecurrent=nextStepId+1;

        //  ga('send', 'event', "reserve_widget", "step_finished", currentId);
        gtag('event', "reserve_widget", {  'event_category': "step_finished",'event_label': "step",  'value': currentId});
        gtag('event', "reserve_widget", {  'event_category': "step_started",'event_label': "step",  'value': nextStepId});

        setupHandlerDateTime();

        //#0 - persist Cookie value
        setFormValueCookie();

        setBreadCrumb(nextStepId);
    }

    //#TEMPLATE# - Step 0 - How Many?
    function GET_TEMPLATE_step_0(){

        var template = '';
        //#1 - build list of template
        for(var i=1; i <= StepsVO[0].limit; i++){
            var numberOption = i;
            template += '<div class="step-option-0">'+ numberOption +'</div>';
        }

        //#2 - Draw template
        var e = document.getElementById('step-content-0');
        e.innerHTML = template; //replace all html exists in events

        //#3 - Add click handlers
        $('.step-option-0').click(function(target){
            $('.step-option-0').removeClass('step-option-0-selected');
            $(target.currentTarget).addClass('step-option-0-selected');

            //#3.1 - mark input with clicked value
            var clickedValue = parseInt($(target.currentTarget).text());
            $('#how-many').val(clickedValue);

            //#4 - proceed

              nextStep(0);
})
    }

    //#TEMPLATE# - Step 2 - What time?
    function GET_TEMPLATE_step_2(){

        var template = '';
        //#1 - build list of template
        if(StepsVO[2].active){
        for(var i=0; i < StepsVO[2].hours.length; i++){
            var hourOption = StepsVO[2].hours[i];
            template += '<div class="step-option-2" value="'+ hourOption +'">'+ hourOption +'</div>';
        }
        }
        //#2 - Draw template
        var e = document.getElementById('step-content-2');
        e.innerHTML = template; //replace all html exists in events

        //#3 - Add click handlers
        $('.step-option-2').click(function(target){
            $('.step-option-2').removeClass('step-option-2-selected');
            $(target.currentTarget).addClass('step-option-2-selected');

            //#3.1 - mark input with clicked value
            var clickedValue = $(target.currentTarget).text();
            $('#what-time').val(clickedValue);

            //#4 - proceed
            nextStep(2);
        })

    }

    //#D - Function to acceptTherms
    function acceptTherms(inputChanges = false){
        var fieldsFulfilled = ($('#email').val() !== '') && ($('#password').val() !== '')
        var isAccepted = $('#therms-and-conditions').data('accepted') === 'true';
        if(isAccepted){
            //uncheck it
            $('#therms-and-conditions').addClass('fa-square-o');
            $('#therms-and-conditions').removeClass('fa-check-square-o');
            $('#therms-and-conditions').data('accepted', 'false');
        
        }else{
            //check it
            $('#therms-and-conditions').removeClass('fa-square-o');
            $('#therms-and-conditions').addClass('fa-check-square-o');
            $('#therms-and-conditions').data('accepted', 'true');
        }
        
        

        if(!isAccepted && fieldsFulfilled){
            //Allow Finish
            $('#step-3-next').removeClass('disabled');
        }else{
            //Dont Allow Finish
            $('#step-3-next').addClass('disabled');

        }
    }

    //#on change form personal data
    function onChangeCredentials(){
        var fieldsFulfilled = ($('#email').val() !== '') && ($('#password').val() !== '')
        var isAccepted = $('#therms-and-conditions').data('accepted') === 'true';
        
        if(isAccepted && fieldsFulfilled){
            //Allow Finish
            $('#step-3-next').removeClass('disabled');
        }else{
            //Dont Allow Finish
            $('#step-3-next').addClass('disabled');

        }
    }


    //#E - Navigate to Step
    function navigateToStep(targetId, recovering){

        //#1 - deactivate the greater ids
        for(var i=0; i < StepsVO.length; i++){
            if(targetId < StepsVO[i].id && StepsVO[i].id && StepsVO[i].active){
                //#1 - Deactivate next current Steps
                $('#step-' + StepsVO[i].id).css('display', 'none');
                $('#step-item-' + StepsVO[i].id).removeClass('step-visited');
            }

            //#1.1 - If recovering from login, visit all steps < target
            if(recovering && targetId > StepsVO[i].id && StepsVO[i].active){
                $('#step-' + StepsVO[i].id).css('display', 'none');
                $('#step-item-' + StepsVO[i].id).addClass('step-visited');
            }
        }



        //#1.2 - Activate next Step
        $('#step-item-' + targetId).addClass('step-visited');
        $('#step-' + targetId).css('display', 'flex');

        setupHandlerDateTime();

        //#0 - persist Cookie value
        setFormValueCookie();

        //#Reset bread crumb values
        setBreadCrumb(targetId);
    }

    //#F - Function to Get Browser Cookies
    function getCookie(cname) {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for(var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

        //#G - Book the reservation
    function bookReservation(){
       setCookie('form','');
	    setFormValueCookie();

        //#1 - get Form values
        var reservation = getFormValue();

        gtag('event', "reserve_widget", {  'event_category': "reservation_finished",'event_label': "step",  'value': "OK"});
        parent.fireEvent(reservation);

    }

    //#H - Set handler of datetimepicker
    function setupHandlerDateTime(){
        //#1 - reset handler
        $( "#datetimepicker .day" ).unbind();
        $( "#datetimepicker" ).unbind();
        $( ".day.active" ).unbind();

    
        //#2 - On date change and on click same day, will do the same
        $("#datetimepicker").on("dp.change", function (e) {
		//do your action here
		nextStep(1);

		  setTimeout(function(){
			  setFormValueCookie();
		  })

        });
        //#2 - On date change and on click same day, will do the same
        $(".day.active").on("click", function (e) {
		//do your action here
		nextStep(1);

		  setTimeout(function(){
			  setFormValueCookie();
		  })

        });
    }

    //#I - get Form
    function getFormValue(){
        var reservation = {
            howMany: 0,
            when : '',
            whatTime : '',
            name : '',
            email : '',
            nameLogged : '',
            password : '',
            phonePrefix : '',
            phone : '',
            comment : ''
        };

        //#Step 0 - How many?
        reservation.howMany = $('#how-many').val();

        //#Step 1 - When?
        if(StepsVO[1].active){
        var date = $('#datetimepicker').data('DateTimePicker').date();
        if(date)
        date = date.toISOString().substring(0, 10);
        reservation.when = date;
      }else{
        reservation.when = "";
      }

        //#Step 2 - What Time?
        reservation.whatTime = $('#what-time').val();

        //#Step 3 - Personal data
        reservation.name = $('#name_logged').val();
        reservation.email = $('#email').val();
        reservation.password = $('#password').val();

        //#Step 4 - Aditional data
        reservation.nameLogged = $('#name_logged').val();
        reservation.phonePrefix = $('#phone-prefix').val();
        reservation.phone = $('#phone').val();
        reservation.comment = $('#notes').val();

        return reservation;
    }

    //#J set Form with cookie
    function setFormValue(reservationCookie){

        //#Step 0 - How many?
        $('#how-many').val(reservationCookie.howMany);
        $($('.step-option-0')[reservationCookie.howMany - 1]).addClass('step-option-0-selected')

        //#Step 1 - When?
        $('#datetimepicker').data('DateTimePicker').date(new Date(reservationCookie.when));


        //#Step 2 - What Time?
        $('#what-time').val(reservationCookie.whatTime);
        $('.step-option-2[value="'+reservationCookie.whatTime+'"]').addClass('step-option-2-selected')

        //#Step 3 - Personal data
        if(reservationCookie.name!="")
        $('#name').val(reservationCookie.name);
        if(reservationCookie.email!="")
        $('#email').val(reservationCookie.email);
        $('#password').val(reservationCookie.password);

        //#Step 4 - Aditional data
        if(reservationCookie.nameLogged!="")
        $('#name_logged').val(reservationCookie.nameLogged);
        if(reservationCookie.phonePrefix!="")
        $('#phone-prefix').val(reservationCookie.phonePrefix);
          if(reservationCookie.phone!="")
        $('#phone').val(reservationCookie.phone);
        $('#notes').val(reservationCookie.comment);
    }

    //#K - Persist Form Values
    function setFormValueCookie(){
        //#1 - Get form Value
        var formValue = getFormValue();

        //Form result
        console.log(formValue);

        setCookie('form', JSON.stringify(formValue));



    }

    //#L - Set cookie value
    function setCookie(cname, cvalue, exdays) {
      var d = new Date();
      d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
      var expires = "expires=" + d.toUTCString();
      document.cookie = cname + "=" + cvalue + "; " + expires + "; " + "path=/";
    }

    //#M - Populate steps with value
    function setBreadCrumb(targetStep){
        var formValue = getFormValue();

        //#1 - iterate to reset or add info
        for(var i=0; i < StepsVO.length; i++){
            //#1.1 - clean
            $('#step-item-value-' + i).css('display', 'none');
            $('#step-item-value-' + i).text('');
            $('#step-item-fa-' + i).addClass('fa-2x');

            //#step 0
            if(i === 0 && i < targetStep  && StepsVO[i].active && formValue.howMany){
                $('#step-item-value-' + i).css('display', 'block');
                $('#step-item-value-' + i).text(formValue.howMany);
                $('#step-item-fa-' + i).removeClass('fa-2x');
            }
            //#step 1
            if(i === 1 && i < targetStep && StepsVO[i].active && formValue.when){
                $('#step-item-value-' + i).css('display', 'block');
                $('#step-item-value-' + i).text(formValue.when);
                $('#step-item-fa-' + i).removeClass('fa-2x');
            }
            //#step 2
            if(i === 2 && i < targetStep && StepsVO[i].active && formValue.whatTime){
                $('#step-item-value-' + i).css('display', 'block');
                $('#step-item-value-' + i).text(formValue.whatTime);
                $('#step-item-fa-' + i).removeClass('fa-2x');
            }
            

            
        }

    }

</script>

<style>
    /*TEXT COLORS*/
    .text-white{
        color:white;
    }

    .text-green{
        color: #2ec66f;
    }


    .text-gray-light h3,h3 {
		color: #4B4B4B;
		font-size: 16px;
	}
	#step-4 h3 {
		margin-bottom: 30px !important;
	}

    .disabled{
        pointer-events: none;
        background-color: #2ec66f75 !important;
    }

    .steps-container{
        display: flex;
        flex-direction: row;
        justify-content: space-around;
    }

    .step-item{
        max-height: 50px;
        background-color: #e6e6e6;
        width: 100%;
        padding: 10px 0px;
        cursor: pointer;
        pointer-events: none;

        display:none;/*begin as invisible*/
    }

    .step-item:not(:first-child), .step-item:not(:last-child){
        -webkit-clip-path: polygon(95% 0, 100% 50%, 95% 100%, 0% 100%, 5% 50%, 0% 0%);
        clip-path: polygon(95% 0, 100% 50%, 95% 100%, 0% 100%, 5% 50%, 0% 0%);
    }

    .step-item:first-child{
        -webkit-clip-path: polygon(0 0, 0 100%, 95% 100%, 100% 50%, 95% 0);
        clip-path: polygon(0 0, 0 100%, 95% 100%, 100% 50%, 95% 0);
    }

    .step-item:last-child{
        -webkit-clip-path: polygon(95% 0, 100% 50%, 95% 100%, 0% 100%, 5% 50%, 0% 0%);
        clip-path: polygon(100% 0%, 100% 50%, 100% 100%, 0% 100%, 5% 50%, 0% 0%);
    }

    .step-item-value{
        color:white;
        display: none;
    }

    .step-visited{
        background-color: #808080;
        pointer-events: initial;
        display: flex !important;
        flex-direction: column;
    }


    .step-form{
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;

        display:none;/*begin as invisible*/
    }

    .step-btn-next, .step-btn-finish {
      cursor: pointer;
      background-color: #2ec66f;
      width: 220px;
      padding: 10px;
      font-size: 20px;
      margin-top: 20px;
  }

    .close-btn{
        position: absolute;
        top: 10px;
        right: 20px;
        color: #808080;
    }
    .close-btn span{
        cursor: pointer;
    }

    /* STEP 0 CSS */
    #step-content-0{
        width:100%;
        margin: 30px 0;
    }
    .step-option-0{
        cursor: pointer;
        text-align: center;
        width: 100px;
        height: 50px;
        border: 1px solid #80808057;
        display: inline-block;
        border-radius: 7px;
        padding-top: 15px;
        margin: 5px;
        color: #808080;
        font-weight: bold;
    }

    .step-option-0-selected{
        background-color: #808080;
        color: white;
    }

    /* STEP 1 CSS */
    #step-content-1{
        width:80%;
        margin: 30px 0;
    }

    /* STEP 2 CSS */
    #step-content-2{
        width:100%;
        margin: 30px 0;
    }
    .step-option-2{
        cursor: pointer;
        text-align: center;
        width: 100px;
        height: 50px;
        border: 1px solid #80808057;
        display: inline-block;
        border-radius: 7px;
        padding-top: 15px;
        margin: 5px;
        color: #808080;
        font-weight: bold;
    }

    .step-option-2-selected{
        background-color: #808080;
        color: white;
    }

    .day.disabled ,.prev.disabled{
        background-color: #dcdcdc1c !important;
        color: #7777772b !important;
    }

     .day.today{
        color: #2ec66f !important;
    }

    .day.active{
        background-color: red !important;
        color:white !important;
    }

    .day:hover{
        background-color: red !important;
        color:white !important;
    }

    /* STEP 3 CSS */
    #step-content-3{
        width: 100%;
    }

    .input-form{
        border-style: none;
        border-bottom: 1px solid #80808080;
        width: 100%;
    }
    .input-form:focus{
        outline: none;

    }

    .form-input-custom{
        margin-top: 20px;
        margin-bottom: 20px;
    }

    /* STEP 4 CSS */
    #step-content-4 {
    width: 100%;
    margin: 0px;
    max-width: 800px;
}


    .form-input-custom-inline{
        display: flex;
        margin: 30px;
        flex-direction: row;
    }



    .input-form-note{
        border-style: none;
        border: 1px solid #80808080;
        width: 100%;
    }
    .input-form-note:focus{
        outline: none;

    }

    .therms{
        margin:30px 0;

    }
    .therms span i{
        cursor: pointer
    }

    .name-step-4{
        margin: 0 30px;
    }

    .select-prefix{
        width: 80px;
        margin-right: 20px;
        border-style: none;
        background-color: white;
        border-image: none;
        border-width: 0px;
        border-color: white;
        border-bottom: 1px solid #bfbfbf;
        border-radius: 0;
        -webkit-appearance: none;
    }
    .select-prefix:focus{
        outline: none;
    }

</style>

</head>

<body>
   <div id="sumario" style="margin: 50px 30px 0 30px;">
   <!--    <div class="close-btn">
      <span onclick="parent.closeBookingForm()"><i class="fa fa-times fa-2x"></i></span>
      </div>-->
   <!-- Steps Breadcrumb-->
   <div class="steps-container">
      <div id="step-item-0" class="step-item text-center step-visited" onclick="navigateToStep(0)">
         <span><i id ="step-item-fa-0" class="fa fa-users fa-2x text-white"></i></span>
         <span id="step-item-value-0" class="step-item-value">2</span>
      </div>
      <div id="step-item-1" class="step-item text-center" onclick="navigateToStep(1)">
         <span><i id ="step-item-fa-1" class="fa fa-calendar fa-2x text-white"></i></span>
         <span id="step-item-value-1" class="step-item-value">20 Out Quarta</span>
      </div>
      <div id="step-item-2" class="step-item text-center" onclick="navigateToStep(2)">
         <span><i id ="step-item-fa-2" class="fa fa-clock-o fa-2x text-white"></i></span>
         <span id="step-item-value-2" class="step-item-value">12:50</span>
      </div>
      <div id="step-item-3" class="step-item text-center" onclick="navigateToStep(3)">
         <span><i class="fa fa-address-card-o fa-2x text-white"></i></span>
      </div>
      <div id="step-item-4" class="step-item text-center" onclick="navigateToStep(4)">
         <span><i class="fa fa-check-circle fa-2x text-white"></i></span>
      </div>
   </div>
   <!-- Step Forms -->
   <div class="step-form-container">
      <!-- Step id 0: How many? -->
      <div id="step-0" class="step-form">
         <h3 id="step-0-title">Quantas pessoas serão?</h3>
         <!-- #TEMPLATE# -->
         <input type="hidden" id="how-many" value="0">
         <div id="step-content-0">
         </div>
         <!-- Next button -->
         <!--<div class="step-btn-next text-white" onclick="nextStep(0)">
            SEGUINTE
            </div>-->
      </div>
      <!-- Step id 1: When? -->
      <div id="step-1" class="step-form">
         <h3 id="step-1-title">Para quando?</h3>
         <!-- #TEMPLATE# -->
         <div id="step-content-1">
            <div style="overflow:hidden;">
               <div class="form-group">
                  <div class="row">
                     <div class="col-xs-12">
                        <div id="datetimepicker">
                           <input type='hidden' class="form-control" />
                        </div>
                     </div>
                  </div>
               </div>
               <script type="text/javascript">
                  $(function() {
                    //#1 - Setup Component
                  
                  });
               </script>
            </div>
         </div>
         <!-- Next button
            <div class="step-btn-next text-white" onclick="nextStep(1)">
                SEGUINTE
            </div>-->
      </div>
      <!-- Step id 2: What time? -->
      <div id="step-2" class="step-form">
         <h3 id="step-2-title">A que horas?</h3>
         <!-- #TEMPLATE# -->
         <input type="hidden" id="what-time" value="0">
         <div id="step-content-2">
         </div>
         <!-- Next button -->
         <!--<div class="step-btn-next text-white" onclick="nextStep(2)">
            SEGUINTE
            </div>-->
      </div>
      <!-- Step id 3: Personal data -->
      <div id="step-3" class="step-form text-gray-light">
         <h3 id="step-3-title">Para concluir basta preencher os dados pessoais:</h3>
         <span id="new-account">Já tens uma conta Mygon? <span class="text-green newlogin" style='cursor:pointer'>Clique aqui</span></span>
         <div class="row" id="step-content-3">
            <div class="col-xs-8 col-xs-offset-2 form-input-custom">
               <!--    <input type="name" class="input-form" id="name" placeholder="Name">-->
            </div>
            <div class="col-xs-8 col-xs-offset-2 form-input-custom">
               <input type="email" class="input-form" id="email" placeholder="E-mail" onchange="onChangeCredentials()">
            </div>
            <div class="col-xs-8 col-xs-offset-2 form-input-custom">
               <input type="password" class="input-form" id="password" placeholder="Password" onchange="onChangeCredentials()">
            </div>
			
			<div class=" col-xs-12 therms">
               <span><i id="therms-and-conditions" data-accepted="false" class="fa fa-square-o fa-lg" onclick="acceptTherms()"></i>
               <span id="therms-span">&nbsp;I ́ve read the <a class="text-green">Privacy Policy</a> settings and i accept to receive news, comunications and promotions from MyGon</span>
               </span>
            </div>
			
         </div>
         <!-- Next button -->
         <div id="step-3-next" class="step-btn-next text-white disabled" onclick="nextStep(3)">
            SEGUINTE
         </div>
      </div>
      <!-- Step id 4: Aditional Data -->
      <div id="step-4" class="step-form text-gray-light">
         <h3 id="step-4-title">Para caso o comerciante ou a nossa linha de apoio precise de te ligar por favor indica o teu nome e nº de telemóvel.</h3>
         <div id="step-content-4">
            <div class="row name-step-4">
               <input type="name_logged" class="input-form" id="name_logged" placeholder="Name">
            </div>
            <div class="row form-input-custom-inline">
               <!-- prefix -->
               <select name="phone-prefix" id="phone-prefix" class="select-prefix">
                  <option value="">Prefix</option>
                  <option value="+93">AF (+93)</option>
                  <option value="+355">AL (+355)</option>
                  <option value="+213">DZ (+213)</option>
                  <option value="+376">AD (+376)</option>
                  <option value="+244">AO (+244)</option>
                  <option value="+1-268">AG (+1-268)</option>
                  <option value="+54">AR (+54)</option>
                  <option value="+374">AM (+374)</option>
                  <option value="+61">AU (+61)</option>
                  <option value="+43">AT (+43)</option>
                  <option value="+994">AZ (+994)</option>
                  <option value="+1-242">BS (+1-242)</option>
                  <option value="+973">BH (+973)</option>
                  <option value="+880">BD (+880)</option>
                  <option value="+1-246">BB (+1-246)</option>
                  <option value="+375">BY (+375)</option>
                  <option value="+32">BE (+32)</option>
                  <option value="+501">BZ (+501)</option>
                  <option value="+229">BJ (+229)</option>
                  <option value="+975">BT (+975)</option>
                  <option value="+591">BO (+591)</option>
                  <option value="+387">BA (+387)</option>
                  <option value="+267">BW (+267)</option>
                  <option value="+55">BR (+55)</option>
                  <option value="+673">BN (+673)</option>
                  <option value="+359">BG (+359)</option>
                  <option value="+226">BF (+226)</option>
                  <option value="+257">BI (+257)</option>
                  <option value="+855">KH (+855)</option>
                  <option value="+237">CM (+237)</option>
                  <option value="+1">CA (+1)</option>
                  <option value="+238">CV (+238)</option>
                  <option value="+236">CF (+236)</option>
                  <option value="+235">TD (+235)</option>
                  <option value="+56">CL (+56)</option>
                  <option value="+86">CN (+86)</option>
                  <option value="+57">CO (+57)</option>
                  <option value="+269">KM (+269)</option>
                  <option value="+242">CG (+242)</option>
                  <option value="+506">CR (+506)</option>
                  <option value="+225">CI (+225)</option>
                  <option value="+385">HR (+385)</option>
                  <option value="+53">CU (+53)</option>
                  <option value="+357">CY (+357)</option>
                  <option value="+420">CZ (+420)</option>
                  <option value="+45">DK (+45)</option>
                  <option value="+1-767">DM (+1-767)</option>
                  <option value="+1-809 and 1-829">DO (+1-809 and 1-829)</option>
                  <option value="+593">EC (+593)</option>
                  <option value="+20">EG (+20)</option>
                  <option value="+503">SV (+503)</option>
                  <option value="+240">GQ (+240)</option>
                  <option value="+291">ER (+291)</option>
                  <option value="+372">EE (+372)</option>
                  <option value="+251">ET (+251)</option>
                  <option value="+679">FJ (+679)</option>
                  <option value="+358">FI (+358)</option>
                  <option value="+33">FR (+33)</option>
                  <option value="+241">GA (+241)</option>
                  <option value="+220">GM (+220)</option>
                  <option value="+995">GE (+995)</option>
                  <option value="+49">DE (+49)</option>
                  <option value="+233">GH (+233)</option>
                  <option value="+30">GR (+30)</option>
                  <option value="+1-473">GD (+1-473)</option>
                  <option value="+502">GT (+502)</option>
                  <option value="+224">GN (+224)</option>
                  <option value="+245">GW (+245)</option>
                  <option value="+509">HT (+509)</option>
                  <option value="+504">HN (+504)</option>
                  <option value="+36">HU (+36)</option>
                  <option value="+354">IS (+354)</option>
                  <option value="+91">IN (+91)</option>
                  <option value="+62">ID (+62)</option>
                  <option value="+98">IR (+98)</option>
                  <option value="+964">IQ (+964)</option>
                  <option value="+353">IE (+353)</option>
                  <option value="+972">IL (+972)</option>
                  <option value="+39">IT (+39)</option>
                  <option value="+1-876">JM (+1-876)</option>
                  <option value="+81">JP (+81)</option>
                  <option value="+962">JO (+962)</option>
                  <option value="+7">KZ (+7)</option>
                  <option value="+254">KE (+254)</option>
                  <option value="+686">KI (+686)</option>
                  <option value="+82">KR (+82)</option>
                  <option value="+965">KW (+965)</option>
                  <option value="+996">KG (+996)</option>
                  <option value="+856">LA (+856)</option>
                  <option value="+371">LV (+371)</option>
                  <option value="+961">LB (+961)</option>
                  <option value="+266">LS (+266)</option>
                  <option value="+231">LR (+231)</option>
                  <option value="+218">LY (+218)</option>
                  <option value="+423">LI (+423)</option>
                  <option value="+370">LT (+370)</option>
                  <option value="+352">LU (+352)</option>
                  <option value="+389">MK (+389)</option>
                  <option value="+261">MG (+261)</option>
                  <option value="+265">MW (+265)</option>
                  <option value="+60">MY (+60)</option>
                  <option value="+960">MV (+960)</option>
                  <option value="+223">ML (+223)</option>
                  <option value="+356">MT (+356)</option>
                  <option value="+692">MH (+692)</option>
                  <option value="+222">MR (+222)</option>
                  <option value="+230">MU (+230)</option>
                  <option value="+52">MX (+52)</option>
                  <option value="+691">FM (+691)</option>
                  <option value="+373">MD (+373)</option>
                  <option value="+377">MC (+377)</option>
                  <option value="+976">MN (+976)</option>
                  <option value="+382">ME (+382)</option>
                  <option value="+212">MA (+212)</option>
                  <option value="+258">MZ (+258)</option>
                  <option value="+95">MM (+95)</option>
                  <option value="+264">NA (+264)</option>
                  <option value="+674">NR (+674)</option>
                  <option value="+977">NP (+977)</option>
                  <option value="+31">NL (+31)</option>
                  <option value="+64">NZ (+64)</option>
                  <option value="+505">NI (+505)</option>
                  <option value="+227">NE (+227)</option>
                  <option value="+234">NG (+234)</option>
                  <option value="+47">NO (+47)</option>
                  <option value="+968">OM (+968)</option>
                  <option value="+92">PK (+92)</option>
                  <option value="+680">PW (+680)</option>
                  <option value="+507">PA (+507)</option>
                  <option value="+675">PG (+675)</option>
                  <option value="+595">PY (+595)</option>
                  <option value="+51">PE (+51)</option>
                  <option value="+63">PH (+63)</option>
                  <option value="+48">PL (+48)</option>
                  <option value="+351" selected="">PT (+351)</option>
                  <option value="+974">QA (+974)</option>
                  <option value="+40">RO (+40)</option>
                  <option value="+7">RU (+7)</option>
                  <option value="+250">RW (+250)</option>
                  <option value="+1-869">KN (+1-869)</option>
                  <option value="+1-758">LC (+1-758)</option>
                  <option value="+1-784">VC (+1-784)</option>
                  <option value="+685">WS (+685)</option>
                  <option value="+378">SM (+378)</option>
                  <option value="+239">ST (+239)</option>
                  <option value="+966">SA (+966)</option>
                  <option value="+221">SN (+221)</option>
                  <option value="+381">RS (+381)</option>
                  <option value="+248">SC (+248)</option>
                  <option value="+232">SL (+232)</option>
                  <option value="+65">SG (+65)</option>
                  <option value="+421">SK (+421)</option>
                  <option value="+386">SI (+386)</option>
                  <option value="+677">SB (+677)</option>
                  <option value="+252">SO (+252)</option>
                  <option value="+27">ZA (+27)</option>
                  <option value="+34">ES (+34)</option>
                  <option value="+94">LK (+94)</option>
                  <option value="+249">SD (+249)</option>
                  <option value="+597">SR (+597)</option>
                  <option value="+268">SZ (+268)</option>
                  <option value="+46">SE (+46)</option>
                  <option value="+41">CH (+41)</option>
                  <option value="+963">SY (+963)</option>
                  <option value="+992">TJ (+992)</option>
                  <option value="+255">TZ (+255)</option>
                  <option value="+66">TH (+66)</option>
                  <option value="+670">TL (+670)</option>
                  <option value="+228">TG (+228)</option>
                  <option value="+676">TO (+676)</option>
                  <option value="+1-868">TT (+1-868)</option>
                  <option value="+216">TN (+216)</option>
                  <option value="+90">TR (+90)</option>
                  <option value="+993">TM (+993)</option>
                  <option value="+688">TV (+688)</option>
                  <option value="+256">UG (+256)</option>
                  <option value="+380">UA (+380)</option>
                  <option value="+971">AE (+971)</option>
                  <option value="+44">GB (+44)</option>
                  <option value="+1">US (+1)</option>
                  <option value="+598">UY (+598)</option>
                  <option value="+998">UZ (+998)</option>
                  <option value="+678">VU (+678)</option>
                  <option value="+379">VA (+379)</option>
                  <option value="+58">VE (+58)</option>
                  <option value="+84">VN (+84)</option>
                  <option value="+967">YE (+967)</option>
                  <option value="+260">ZM (+260)</option>
                  <option value="+263">ZW (+263)</option>
                  <option value="+886">TW (+886)</option>
                  <option value="+61">CX (+61)</option>
                  <option value="+61">CC (+61)</option>
                  <option value="+672">NF (+672)</option>
                  <option value="+687">NC (+687)</option>
                  <option value="+689">PF (+689)</option>
                  <option value="+269">YT (+269)</option>
                  <option value="+508">PM (+508)</option>
                  <option value="+681">WF (+681)</option>
                  <option value="+682">CK (+682)</option>
                  <option value="+683">NU (+683)</option>
                  <option value="+690">TK (+690)</option>
                  <option value="+44">GG (+44)</option>
                  <option value="+44">IM (+44)</option>
                  <option value="+44">JE (+44)</option>
                  <option value="+1-264">AI (+1-264)</option>
                  <option value="+1-441">BM (+1-441)</option>
                  <option value="+246">IO (+246)</option>
                  <option value="+357"> (+357)</option>
                  <option value="+1-284">VG (+1-284)</option>
                  <option value="+1-345">KY (+1-345)</option>
                  <option value="+500">FK (+500)</option>
                  <option value="+350">GI (+350)</option>
                  <option value="+1-664">MS (+1-664)</option>
                  <option value="+290">SH (+290)</option>
                  <option value="+1-649">TC (+1-649)</option>
                  <option value="+1-670">MP (+1-670)</option>
                  <option value="+1-787 and 1-939">PR (+1-787 and 1-939)</option>
                  <option value="+1-684">AS (+1-684)</option>
                  <option value="+1-671">GU (+1-671)</option>
                  <option value="+1-340">VI (+1-340)</option>
                  <option value="+852">HK (+852)</option>
                  <option value="+853">MO (+853)</option>
                  <option value="+298">FO (+298)</option>
                  <option value="+299">GL (+299)</option>
                  <option value="+594">GF (+594)</option>
                  <option value="+590">GP (+590)</option>
                  <option value="+596">MQ (+596)</option>
                  <option value="+262">RE (+262)</option>
                  <option value="+358-18">AX (+358-18)</option>
                  <option value="+297">AW (+297)</option>
                  <option value="+599">AN (+599)</option>
                  <option value="+47">SJ (+47)</option>
                  <option value="+247">AC (+247)</option>
                  <option value="+381">CS (+381)</option>
                  <option value="+212">EH (+212)</option>
                  <option value="+35">ES_DE (+35)</option>
                  <option value="+253">DJ (+253)</option>
                  <option value="+592">GY (+592)</option>
               </select>
               <!-- phone number -->
               <input type="text" class="input-form" id="phone" placeholder="Phone number">
            </div>
            <div>
               <input type="text" class="input-form-note" id="notes" placeholder="Notas para o comerciante">
            </div>
            <!-- Remove therms to step 3 -->
         </div>
         <!-- Next button -->
         <div id="step-4-reserve" class="step-btn-finish text-white" onclick="bookReservation()">
            RESERVAR
         </div>
      </div>
   </div>
   <div>
</body>